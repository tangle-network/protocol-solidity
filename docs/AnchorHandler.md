# AnchorHandler

*Webb Technologies.*

> Handles Anchor edge list merkle root updates

This contract is intended to be used with the Bridge contract.



## Methods

### _bridgeAddress

```solidity
function _bridgeAddress() external view returns (address)
```






#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

### _contractAddressToResourceID

```solidity
function _contractAddressToResourceID(address) external view returns (bytes32)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | bytes32 | undefined

### _contractWhitelist

```solidity
function _contractWhitelist(address) external view returns (bool)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | bool | undefined

### _counts

```solidity
function _counts(uint256) external view returns (uint64)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | uint256 | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | uint64 | undefined

### _resourceIDToContractAddress

```solidity
function _resourceIDToContractAddress(bytes32) external view returns (address)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | bytes32 | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

### _updateRecords

```solidity
function _updateRecords(uint256, uint256) external view returns (address _tokenAddress, uint256 _sourceChainID, bytes32 _resourceID, bytes32 _merkleRoot, uint256 _leafIndex)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | uint256 | undefined
| _1 | uint256 | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _tokenAddress | address | undefined
| _sourceChainID | uint256 | undefined
| _resourceID | bytes32 | undefined
| _merkleRoot | bytes32 | undefined
| _leafIndex | uint256 | undefined

### executeProposal

```solidity
function executeProposal(bytes32 resourceID, bytes data) external nonpayable
```

Proposal execution should be initiated when a proposal is finalized in the Bridge contract. by a relayer on the deposit&#39;s destination chain.Data passed into the function should be constructed as follows: chainID                                  uint256     bytes  0 - 32 leafIndex                                uint256     bytes  32 - 64 merkleRoot                               uint256     bytes  64 - 96



#### Parameters

| Name | Type | Description |
|---|---|---|
| resourceID | bytes32 | ResourceID corresponding to a particular set of Anchors
| data | bytes | Consists of {sourceChainID}, {leafIndex}, {merkleRoot} all padded to 32 bytes.

### getUpdateRecord

```solidity
function getUpdateRecord(uint64 updateNonce, uint256 sourceChainId) external view returns (struct AnchorHandler.UpdateRecord)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| updateNonce | uint64 | This ID will have been generated by the Bridge contract.
| sourceChainId | uint256 | ID of chain deposit originated from.

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | AnchorHandler.UpdateRecord | UpdateRecord which consists of: - _tokenAddress Address used when {deposit} was executed. - _sourceChainID ChainID deposit originated from. - _resourceID ResourceID used when {deposit} was executed. - _destinationRecipientAddress Address tokens are intended to be deposited to on desitnation chain. - _depositer Address that initially called {deposit} in the Bridge contract. - _amount Amount of tokens that were deposited.

### migrateBridge

```solidity
function migrateBridge(address newBridge) external nonpayable
```

Migrates the bridge to a new bridge address



#### Parameters

| Name | Type | Description |
|---|---|---|
| newBridge | address | New bridge address

### setResource

```solidity
function setResource(bytes32 resourceID, address contractAddress) external nonpayable
```

First verifies {_resourceIDToContractAddress}[{resourceID}] and {_contractAddressToResourceID}[{contractAddress}] are not already set, then sets {_resourceIDToContractAddress} with {contractAddress}, {_contractAddressToResourceID} with {resourceID}, and {_contractWhitelist} to true for {contractAddress}.



#### Parameters

| Name | Type | Description |
|---|---|---|
| resourceID | bytes32 | ResourceID to be used when executing proposals.
| contractAddress | address | Address of contract to be called when a proposal is signed and submitted for execution.




