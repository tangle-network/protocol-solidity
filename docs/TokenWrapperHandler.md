# TokenWrapperHandler

*Webb Technologies.*

> Handles GovernedTokenWrapper fee and token updates

This contract is intended to be used with the Bridge and SignatureBridge contracts.



## Methods

### _bridgeAddress

```solidity
function _bridgeAddress() external view returns (address)
```






#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

### _contractAddressToResourceID

```solidity
function _contractAddressToResourceID(address) external view returns (bytes32)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | bytes32 | undefined

### _contractWhitelist

```solidity
function _contractWhitelist(address) external view returns (bool)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | bool | undefined

### _resourceIDToContractAddress

```solidity
function _resourceIDToContractAddress(bytes32) external view returns (address)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | bytes32 | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | address | undefined

### _updateRecords

```solidity
function _updateRecords(uint256, uint256) external view returns (address _tokenWrapperAddress, uint256 _executionChainID, uint256 _nonce, bytes4 functionSig, bytes32 _resourceID, bytes32 _updateValue)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| _0 | uint256 | undefined
| _1 | uint256 | undefined

#### Returns

| Name | Type | Description |
|---|---|---|
| _tokenWrapperAddress | address | undefined
| _executionChainID | uint256 | undefined
| _nonce | uint256 | undefined
| functionSig | bytes4 | undefined
| _resourceID | bytes32 | undefined
| _updateValue | bytes32 | undefined

### executeProposal

```solidity
function executeProposal(bytes32 resourceID, bytes data) external nonpayable
```

Proposal execution should be initiated when a proposal is finalized in the Bridge contract. by a relayer on the deposit&#39;s destination chain. Or when a valid signature is produced by the DKG in the case of SignatureBridge.Data passed into the function should be constructed as follows: executionChainID                                  uint256     bytes  0 - 32 nonce                                             uint256     bytes  32 - 64 functionSig                                       bytes32     bytes  64 - 96 updateValue                                       bytes32     bytes  96 - 128  



#### Parameters

| Name | Type | Description |
|---|---|---|
| resourceID | bytes32 | ResourceID corresponding to a particular set of GovernedTokenWrapper contracts
| data | bytes | Consists of {executionChainID}, {nonce}, {functionSig} {updateValue} all padded to 32 bytes.

### getUpdateRecord

```solidity
function getUpdateRecord(uint256 updateNonce, uint256 executionChainId) external view returns (struct TokenWrapperHandler.UpdateRecord)
```





#### Parameters

| Name | Type | Description |
|---|---|---|
| updateNonce | uint256 | This ID will have been generated by the Bridge contract.
| executionChainId | uint256 | ID of chain where execution of proposal occurs.

#### Returns

| Name | Type | Description |
|---|---|---|
| _0 | TokenWrapperHandler.UpdateRecord | UpdateRecord which consists of: - address _tokenWrapperAddress; - uint256  _executionChainID; - uint256 _nonce; - bytes4 functionSig; - bytes32 _resourceID; - bytes32 _updateValue;

### migrateBridge

```solidity
function migrateBridge(address newBridge) external nonpayable
```

Migrates the bridge to a new bridge address



#### Parameters

| Name | Type | Description |
|---|---|---|
| newBridge | address | New bridge address

### setResource

```solidity
function setResource(bytes32 resourceID, address contractAddress) external nonpayable
```

First verifies {_resourceIDToContractAddress}[{resourceID}] and {_contractAddressToResourceID}[{contractAddress}] are not already set, then sets {_resourceIDToContractAddress} with {contractAddress}, {_contractAddressToResourceID} with {resourceID}, and {_contractWhitelist} to true for {contractAddress}.



#### Parameters

| Name | Type | Description |
|---|---|---|
| resourceID | bytes32 | ResourceID to be used when executing proposals.
| contractAddress | address | Address of contract to be called when a proposal is signed and submitted for execution.




